{"ast":null,"code":"import _defineProperty from\"/Users/onaneyeajibola/Desktop/Dev/contact-keeper/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/onaneyeajibola/Desktop/Dev/contact-keeper/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/onaneyeajibola/Desktop/Dev/contact-keeper/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from'react';import AlertContext from'../../context/alert/alertContext';import AuthContext from'../../context/auth/authContext';var Register=function Register(props){var alertContext=useContext(AlertContext);var authContext=useContext(AuthContext);var setAlert=alertContext.setAlert;var register=authContext.register,error=authContext.error,clearErrors=authContext.clearErrors,isAuthenticated=authContext.isAuthenticated;useEffect(function(){if(isAuthenticated){props.history.push('/');}if(error==='User already exists'){setAlert(error,'danger');clearErrors();}// eslint-disable-next-line\n},[error,isAuthenticated,props.history]);var _useState=useState({name:'',email:'',password:'',password2:''}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],SetUser=_useState2[1];var name=user.name,email=user.email,password=user.password,password2=user.password2;var onChange=function onChange(e){return SetUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},e.target.name,e.target.value)));};var onSubmit=function onSubmit(e){e.preventDefault();if(name===''||email===''||password===''){setAlert('Please enter all fields','danger');}else if(password!==password2){setAlert('Passwords do not match','danger');}else{register({name:name,email:email,password:password});}};return/*#__PURE__*/React.createElement(\"div\",{className:\"form-container\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Account \",/*#__PURE__*/React.createElement(\"span\",{className:\"text-primary\"},\"Register\")),/*#__PURE__*/React.createElement(\"form\",{onSubmit:onSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"name\"},\"Name\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"name\",value:name,onChange:onChange,required:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Email Address\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"email\",value:email,onChange:onChange,required:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"password\",value:password,onChange:onChange,required:true,minLength:\"6\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password2\"},\"Confirm Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"password2\",value:password2,onChange:onChange,required:true,minLength:\"6\"})),/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"Register\",className:\"btn btn-primary btn-block\"})));};export default Register;","map":{"version":3,"sources":["/Users/onaneyeajibola/Desktop/Dev/contact-keeper/client/src/components/auth/Register.js"],"names":["React","useState","useContext","useEffect","AlertContext","AuthContext","Register","props","alertContext","authContext","setAlert","register","error","clearErrors","isAuthenticated","history","push","name","email","password","password2","user","SetUser","onChange","e","target","value","onSubmit","preventDefault"],"mappings":"+ZAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,CAAsCC,SAAtC,KAAuD,OAAvD,CACA,MAAOC,CAAAA,YAAP,KAAyB,kCAAzB,CACA,MAAOC,CAAAA,WAAP,KAAwB,gCAAxB,CAGA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,KAAD,CAAW,CACxB,GAAMC,CAAAA,YAAY,CAAGN,UAAU,CAACE,YAAD,CAA/B,CACA,GAAMK,CAAAA,WAAW,CAAGP,UAAU,CAACG,WAAD,CAA9B,CAFwB,GAIhBK,CAAAA,QAJgB,CAIHF,YAJG,CAIhBE,QAJgB,IAMhBC,CAAAA,QANgB,CAMkCF,WANlC,CAMhBE,QANgB,CAMNC,KANM,CAMkCH,WANlC,CAMNG,KANM,CAMCC,WAND,CAMkCJ,WANlC,CAMCI,WAND,CAMcC,eANd,CAMkCL,WANlC,CAMcK,eANd,CAQxBX,SAAS,CAAC,UAAM,CACZ,GAAGW,eAAH,CAAoB,CAChBP,KAAK,CAACQ,OAAN,CAAcC,IAAd,CAAmB,GAAnB,EACH,CAED,GAAGJ,KAAK,GAAK,qBAAb,CAAoC,CAChCF,QAAQ,CAACE,KAAD,CAAQ,QAAR,CAAR,CACAC,WAAW,GACd,CACD;AACH,CAVQ,CAUN,CAACD,KAAD,CAAQE,eAAR,CAAyBP,KAAK,CAACQ,OAA/B,CAVM,CAAT,CARwB,cAoBAd,QAAQ,CAAC,CAC7BgB,IAAI,CAAE,EADuB,CAE7BC,KAAK,CAAE,EAFsB,CAG7BC,QAAQ,CAAE,EAHmB,CAI7BC,SAAS,CAAE,EAJkB,CAAD,CApBR,wCAoBjBC,IApBiB,eAoBXC,OApBW,kBA2BhBL,CAAAA,IA3BgB,CA2BqBI,IA3BrB,CA2BhBJ,IA3BgB,CA2BVC,KA3BU,CA2BqBG,IA3BrB,CA2BVH,KA3BU,CA2BHC,QA3BG,CA2BqBE,IA3BrB,CA2BHF,QA3BG,CA2BOC,SA3BP,CA2BqBC,IA3BrB,CA2BOD,SA3BP,CA6BxB,GAAMG,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAC,CAAC,QAAIF,CAAAA,OAAO,gCAAKD,IAAL,wBAAYG,CAAC,CAACC,MAAF,CAASR,IAArB,CAA4BO,CAAC,CAACC,MAAF,CAASC,KAArC,GAAX,EAAlB,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAH,CAAC,CAAI,CAClBA,CAAC,CAACI,cAAF,GAEA,GAAGX,IAAI,GAAK,EAAT,EAAeC,KAAK,GAAK,EAAzB,EAA+BC,QAAQ,GAAK,EAA/C,CAAmD,CAC/CT,QAAQ,CAAC,yBAAD,CAA4B,QAA5B,CAAR,CACH,CAFD,IAEO,IAAIS,QAAQ,GAAKC,SAAjB,CAA6B,CAChCV,QAAQ,CAAC,wBAAD,CAA2B,QAA3B,CAAR,CACH,CAFM,IAEA,CACHC,QAAQ,CAAC,CACLM,IAAI,CAAJA,IADK,CAELC,KAAK,CAALA,KAFK,CAGLC,QAAQ,CAARA,QAHK,CAAD,CAAR,CAKH,CACJ,CAdD,CAgBA,mBACI,2BAAK,SAAS,CAAC,gBAAf,eACA,sDACY,4BAAM,SAAS,CAAC,cAAhB,aADZ,CADA,cAII,4BAAM,QAAQ,CAAEQ,QAAhB,eACI,2BAAK,SAAS,CAAC,YAAf,eACI,6BAAO,OAAO,CAAC,MAAf,SADJ,cAII,6BAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,MAAxB,CAA+B,KAAK,CAAEV,IAAtC,CAA4C,QAAQ,CAAEM,QAAtD,CAAgE,QAAQ,KAAxE,EAJJ,CADJ,cAOI,2BAAK,SAAS,CAAC,YAAf,eACI,6BAAO,OAAO,CAAC,OAAf,kBADJ,cAII,6BAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,OAAxB,CAAgC,KAAK,CAAEL,KAAvC,CAA8C,QAAQ,CAAEK,QAAxD,CAAkE,QAAQ,KAA1E,EAJJ,CAPJ,cAaI,2BAAK,SAAS,CAAC,YAAf,eACI,6BAAO,OAAO,CAAC,UAAf,aADJ,cAII,6BAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,UAA5B,CAAuC,KAAK,CAAEJ,QAA9C,CAAwD,QAAQ,CAAEI,QAAlE,CAA4E,QAAQ,KAApF,CAAqF,SAAS,CAAC,GAA/F,EAJJ,CAbJ,cAmBI,2BAAK,SAAS,CAAC,YAAf,eACI,6BAAO,OAAO,CAAC,WAAf,qBADJ,cAII,6BAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,WAA5B,CAAwC,KAAK,CAAEH,SAA/C,CAA0D,QAAQ,CAAEG,QAApE,CAA8E,QAAQ,KAAtF,CAAuF,SAAS,CAAC,GAAjG,EAJJ,CAnBJ,cAyBI,6BAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,UAA3B,CAAuC,SAAS,CAAC,2BAAjD,EAzBJ,CAJJ,CADJ,CAkCH,CAjFD,CAmFA,cAAejB,CAAAA,QAAf","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\r\nimport AlertContext from '../../context/alert/alertContext';\r\nimport AuthContext from '../../context/auth/authContext';\r\n\r\n\r\nconst Register = (props) => {\r\n    const alertContext = useContext(AlertContext);\r\n    const authContext = useContext(AuthContext);\r\n\r\n    const { setAlert } = alertContext;\r\n\r\n    const { register, error, clearErrors, isAuthenticated } = authContext\r\n\r\n    useEffect(() => {\r\n        if(isAuthenticated) {\r\n            props.history.push('/')\r\n        }\r\n\r\n        if(error === 'User already exists') {\r\n            setAlert(error, 'danger')\r\n            clearErrors()\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [error, isAuthenticated, props.history]) \r\n\r\n    const [user, SetUser] = useState({\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        password2: '' \r\n    });\r\n\r\n    const { name, email, password, password2 } = user;\r\n\r\n    const onChange = e => SetUser({...user, [e.target.name]: e.target.value});\r\n\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        if(name === '' || email === '' || password === '') {\r\n            setAlert('Please enter all fields', 'danger')\r\n        } else if (password !== password2 ) {\r\n            setAlert('Passwords do not match', 'danger')\r\n        } else {\r\n            register({\r\n                name,\r\n                email,\r\n                password\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='form-container'>\r\n        <h1>\r\n            Account <span className=\"text-primary\">Register</span>\r\n        </h1>\r\n            <form onSubmit={onSubmit}>\r\n                <div className='form-group'>\r\n                    <label htmlFor='name'>\r\n                        Name\r\n                    </label>\r\n                    <input type='text' name='name' value={name} onChange={onChange} required />\r\n                </div>\r\n                <div className='form-group'>\r\n                    <label htmlFor='email'>\r\n                        Email Address\r\n                    </label>\r\n                    <input type='text' name='email' value={email} onChange={onChange} required />\r\n                </div>\r\n                <div className='form-group'>\r\n                    <label htmlFor='password'>\r\n                        Password\r\n                    </label>\r\n                    <input type='password' name='password' value={password} onChange={onChange} required minLength='6' />\r\n                </div>\r\n                <div className='form-group'>\r\n                    <label htmlFor='password2'>\r\n                        Confirm Password\r\n                    </label>\r\n                    <input type='password' name='password2' value={password2} onChange={onChange} required minLength='6' />\r\n                </div>\r\n                <input type='submit' value=\"Register\"  className=\"btn btn-primary btn-block\" />\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register\r\n"]},"metadata":{},"sourceType":"module"}